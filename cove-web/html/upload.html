<!doctype html>
<html lang="zh">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="/static/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/uppy/uppy.min.css">
    <title>Upload photo</title>
</head>
<body>
<h1>Upload photo files</h1>

<div class="uppyContainer"></div>

<script src="/static/http/fetch.js" type="module"></script>
<script src="/static/vue/vue.js"></script>
<script src="/static/uppy/uppy.min.js"></script>
<script src="/static/uppy/uppy.zh_CN.min.js"></script>
<script>

var uppy = Uppy.Core({
    debug: true,
    autoProceed: false,
    restrictions: {
        maxFileSize: 10000000,
        maxNumberOfFiles: 10,
        allowedFileTypes: ['image/*']
    },
    locale: Uppy.locales.zh_CN
})
.use(Uppy.Dashboard, {
    inline: true,
    target: '.uppyContainer',
    replaceTargetContent: true,
    showProgressDetails: true,
    note: '只允许上传图片, 最多10个文件，最大10M',
    height: 470,
    metaFields: [{
        id: 'name',
        name: '名称',
        placeholder: '文件名称'
    },
    {
        id: 'caption',
        name: '描述',
        placeholder: '一句话描述'
    }],
    browserBackButtonClose: true
})
.use(Uppy.XHRUpload, {
    endpoint: 'http://localhost:8088/files/upload'
});

uppy.on("complete", (result) => {
    console.log('上传完成! 上传文件列表: ', result.successful);
});










</script>
</body>
</html>